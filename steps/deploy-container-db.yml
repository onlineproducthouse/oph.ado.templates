parameters:
  - name: dkrECRUrl
    type: string

  - name: dkrTag
    type: string

  - name: dotEnvFileArtifactPath
    type: string

steps:
  - name: DeployContainerDB
    script: |
      aws ecr get-login-password | docker login --username AWS --password-stdin ${{ parameters.dkrECRUrl }}
      source $(echo "${{ parameters.dotEnvFileArtifactPath }}") \
        && docker run --env-file .env ${{ parameters.dkrTag }}
